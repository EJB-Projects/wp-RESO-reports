# WP RESO RU. ICEFaces Reports Tree to PrimeFaces. RELEASE №21

EJBPrimeFaces 21 (version with working ICETree parsing)



Короче, по-русски напишу.

В общем это пока такая промежуточная версия. Есть закомментированный упрощенный Ресовский код. Это в основном класс  ReportController, который у меня называется MainBean пока и структура классов, которые нужны, чтобы он хоть как-то работал. Часть классов мне вообще не дали: это классы из пакетов srv (видимо, что-то серверное), admin и прочее. Поэтому вместо них просто сделал пустышки/болванки/Моки самописные. 

Результат работы промежуточный: попытка оставить все как есть, написать парсер тупо, подпихнуть его в работающий код и менять только фронтенд не прокатила. То есть иметь в одном проекте  jar'ы и PrimeFaces и ICEFaces не получилось. Я честно ипался два дня: все это сцуко глючило не реально: бесконечные nullPointerException и прочее. В итоге мы посоветовались с kajam, решили забить на это хер и писать  с нуля. Поэтому вот это пока просто болваночная версия, которая парсит все то дерево, которое готовится... точнее готовиЛОСЬ в IceFaces, в старом коде, и выкидывает его на страничку, которая уже работает на PrimeFaces. Закрепимся в этой ревизии и следающая версия уже будет.... как сказать.... В общем я буду притягивать весь остальной старый ресовский код сюда. Ну, естественно придется много чего переписывать или писать вообще заново.

Результат главный: в целом все работает: я готовлю (тупо задавая данные через переменные в конструкторе в соответствующем классе) некое "липовое" локальное дерево отчетов и папок, отдаю его своему парсеру и он все перехерачивает это в дерево PrimeFaces уже. Херь в том, что в предыдущем коде там все хитро было. Они использовали Свинговое (Swing) DefaultMutableTree или как оно там, наполняли его объектами, а списки отчетов держали в ArrayList. То есть по сути их главная собирающая свинговое дерево процедура build-чо-то-там-reportTree хавает свинговое дерево и ArrayList папок отчетов. А я своим TreeParse уже из него леплю Праймфейсовское. 

Такая тема. 
